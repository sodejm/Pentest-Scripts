#Justin Soderberg
#quick wrapper for the Azure powershell tools to verify if a connection string is valid

Param(
    [Parameter(Mandatory=$true)]
    [string]$StorageAccountName,
    [Parameter(Mandatory=$true)]
    [string]$StorageAccountKey
)
if (Get-Module -ListAvailable -Name Azure){
    Try{
        $Context = New-AzureStorageContext -StorageAccountName $StorageAccountName -StorageAccountKey $StorageAccountKey
        Get-AzureStorageContainer -Context $Context
    }
    Catch{
        Write-Host "An errors occured verify your name and key"
        }
}else{
    Write-Host "Azure Module does not exist"
}
